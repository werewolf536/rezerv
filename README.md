# Домашнее задание к занятию «Резервное копирование баз данных» - Стрельцов Владимир

### Задание 1. Резервное копирование

### Кейс
Финансовая компания решила увеличить надёжность работы баз данных и их резервного копирования. 

Необходимо описать, какие варианты резервного копирования подходят в случаях: 

1.1. Необходимо восстанавливать данные в полном объёме за предыдущий день.

1.2. Необходимо восстанавливать данные за час до предполагаемой поломки.

1.3.* Возможен ли кейс, когда при поломке базы происходило моментальное переключение на работающую или починенную базу данных.

*Приведите ответ в свободной форме.*

#### Ответ: 
1.1 Дифференциальный бэкап справится с этой задачей быстрей всегех остальных методов.

1.2 Инкрементный бэкап каждый час. Разумный расход места на диске

1.3* Репликация master-slave, переход в облако

---

### Задание 2. PostgreSQL

2.1. С помощью официальной документации приведите пример команды резервирования данных и восстановления БД (pgdump/pgrestore).

#### Ответ: 

Создание дампа:

pg_dump dbname > filename

pg_dump mydatabase > mydatabase_backup.sql

Восстановление:

pg_restore -d dbname filename.dump

pg_restore -d mydatabase mydatabase_backup.sql

---

### Задание 3. MySQL

3.1. С помощью официальной документации приведите пример команды инкрементного резервного копирования базы данных MySQL. 

#### Ответ: 
```
mysqldump --single-transaction --flush-logs --master-data=2 --databases mydatabase > mydatabase_incr_backup.sql
```
